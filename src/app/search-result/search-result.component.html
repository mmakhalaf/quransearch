<mat-card class="result-row">
   <mat-card-content>
      <!-- Ayah -->
      <div class="ayah-style">
         <button mat-icon-button  ngxClipboard [cbContent]="result.ayah.uthmani">
            <mat-icon mini-fab-icon>file_copy_outline</mat-icon>
         </button>
         <span class="ayah-word" *ngFor="let w of result.ayah.words; let i = index" (click)="onWordClicked(w)">
            <div *ngIf="should_highlight(i); then Highlighted; else NotHighlighted"></div>
            <ng-template #Highlighted>
               <strong class="highlighted-ayah-word">{{result.ayah.uthmani_words[i]}} </strong>
            </ng-template>
            <ng-template #NotHighlighted>
               {{result.ayah.uthmani_words[i]}}
            </ng-template>
         </span>
         <a class="ayah-ref" href="https://furqan.co/{{result.ayah.surah_num()}}/{{result.ayah.surah_ayah_num()}}">
            [ {{result.ayah.surah_name()}} {{result.ayah.surah_aya_num_ar()}} ]
         </a>
      </div>

      <!-- Extra Info -->
      <mat-accordion>
         <mat-expansion-panel *ngIf="result.ayah.related_ayat.length" (afterCollapse)="panelChanged()" (afterExpand)="panelChanged()">
            <mat-expansion-panel-header>
               <mat-panel-title>
                  آيات متعلقه
               </mat-panel-title>
               <mat-panel-description>
                  {{number_en_to_ar(result.ayah.related_ayat.length)}}
               </mat-panel-description>
            </mat-expansion-panel-header>

            <ul class="related-ayah-style">
               <li *ngFor="let r of result.ayah.related_ayat">
                  <button mat-icon-button ngxClipboard [cbContent]="r.ayah.uthmani">
                     <mat-icon mini-fab-icon>file_copy_outline</mat-icon>
                  </button>
                  {{r.ayah.uthmani}}
                  <a class="ayah-ref" href="https://furqan.co/{{r.ayah.surah_num()}}/{{r.ayah.surah_ayah_num()}}">
                     [ {{r.ayah.surah_name()}} {{r.ayah.surah_aya_num_ar()}} ]
                  </a>
               </li>
            </ul>
         </mat-expansion-panel>

         <mat-expansion-panel *ngIf="result.ayah.categories.length" (afterCollapse)="panelChanged()" (afterExpand)="panelChanged()">
            <mat-expansion-panel-header>
               <mat-panel-title>
                  مواضيع متعلقه
               </mat-panel-title>
               <mat-panel-description>
                  {{number_en_to_ar(result.ayah.categories.length)}}
               </mat-panel-description>
            </mat-expansion-panel-header>
            
            <span *ngFor="let c of result.ayah.categories; let i = index">
               <span class="cat-style" (click)="onCategoryClicked(c)">{{c.name}}</span>
               <span class="cat-delim-style" *ngIf="i < result.ayah.categories.length - 1">
                  ،&nbsp;
               </span>
            </span>
         </mat-expansion-panel>
      </mat-accordion>
   </mat-card-content>
</mat-card>